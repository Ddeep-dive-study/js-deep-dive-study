`스코프`, `지역 변수`와 `전역 변수`

- `var`는 스코프내에서 중복을 허용하지만, `let`, `const`는 허용하지 않는다.

# 스코프의 종류

`지역 스코프`와 `전역 스코프` 

# 스코프 체인

# 함수 레벨 스코프

`var`는 함수의 코드 블록만을 지역 스코프로 정한다.

```jsx
var x = 1;
if (true) {
	// var 키워드로 선언된 변수는 함수의 코드 블록(함수 몸체)만을 지역 스코프로 인정한다.
	// 함수 밖에서 var 키워드로 선언된 변수는 코드 블록 내에서 선언되었다 할지라도 모두 전역 변수다. 
	// 따라서 x는 전역 변수다. 이미 선언된 전역 변수 x가 있으므로 x 변수는 중복 선언된다.
	// 이는 의도치 않게 변수 값이 변경되는 부작용을 발생시킨다.
	var x = 10;
}
console.log(x); // 10

var i = 10;
// for 문에서 선언한 i는 전역 변수다. 이미 선언된 전역 변수 i가 있으므로 중복 선언된다. 
for (var i = 0; i < 5; i++) {
	console.log(i); // 0 1 2 3 4 
}
// 의도치 않게 변수의 값이 변경되었다.
console.log(i); // 5
```

```jsx
var x = 1;

function foo() {
	var x = 10;
	bar();
}
function bar() {
	console.log(x);
}

foo(); // 1
bar(); // 1
```

bar 함수는 전역에서 정의된 함수다. 

함수 선언문으로 정의된 bar 함수는 전역 코드가 실행되기 전에 먼저 평가되어 함수 객체를 생성한다. 이때 생성된 bar 함수 객체는 자신이 정의된 스코프, 즉. 전역 스코프를 기억한다. 그리고 bar 함수가 호출되면 호출된 곳이 어디인지 관계없이 언제나 자신이 기억하고 있는 전역스코프를 상위 스코프로 사용한다.